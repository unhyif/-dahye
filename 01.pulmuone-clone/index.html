<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
  <link rel="stylesheet" href="./css/ui-style.css">
	<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
	<script>
    $(function(){
      // 검색창 기능 [S]
      const searchButton = $('.search__button');

      searchButton.on('click', function(){
        $(this).closest('.search').find('.search__input').val('나와 지구를 위한 바른먹거리 마켓, #풀무원');
      });
      // 검색창 기능 [E]

      // GNB 기능 [S]
      const category = $('.header__category');
      const categoryButton = $('.header__button');
      const gnb =category.children('.gnb');
      const depth2 = $('.gnb__2depth');
      const depth2Link = $('.gnb__2depth-link');
      const depth3Link = $('.gnb__3depth-link');

      categoryButton.on('click',function(){
        gnb.toggleClass('is-active');
      });

      $(document).on('click', function (e){
        if($(e.target).closest(gnb).length || $(e.target).is(categoryButton)){
          return false;
        }
        gnb.removeClass('is-active');
      });

      depth2Link
      .on('mouseenter', function(){
        if($(this).next().attr('class') == 'gnb__3depth'){
          $(this).parents('.gnb__2depth').addClass('is-active');
        }else{
          $(this).parents('.gnb__2depth').removeClass('is-active');
        }
      })

      depth2.on('mousemove', function (e){
        if(!$(e.target).is(depth2Link) && !$(e.target).is(depth3Link)){
          $(this).removeClass('is-active');
        }
      });
      // GNB 기능 [E]

      // 조회기간 기능 [S]
      const startDate = $('#startDate');
      const endDate = $('#endDate');
      const threeMonths = $('#threeMonths');
      const sixMonths = $('#sixMonths');
      const oneYear = $('#oneYear');
      const dateButton = $('.date__button');

      function setDates(months) {
        var startDate = new Date();
        var endDate = new Date();
        startDate.setMonth(startDate.getMonth() - months);

        $("#startDate").val(formatDate(startDate));
        $("#endDate").val(formatDate(endDate));
      }

      function formatDate(date) {
          var year = date.getFullYear();
          var month = (date.getMonth() + 1).toString().padStart(2, '0');
          var day = date.getDate().toString().padStart(2, '0');
          return year + "-" + month + "-" + day;
      }

      function showDate(target){
        const monthNum = target.attr('id');

        if(monthNum == 'threeMonths'){
          setDates(3);
          }
          else if(monthNum == 'sixMonths'){
          setDates(6);
          }
          else{
            setDates(9);
          }
      }

      function DateInit(){
        $('.date__button.is-active').each(function(){
          showDate($(this));
        });
      }

      dateButton.on('click', function(){
        showDate($(this));

        dateButton.removeClass('is-active');
        $(this).addClass('is-active');
      })

      DateInit();
      // 조회기간 기능 [E]

    });
  </script>
	</head>
	<body>
		<div class="page">
      <div class="page__container">
        <!-- Header -->
        <div class="header">
          <div class="header__top">
            <h1 class="header__logo">
              <a href="./index.html" class="header__link" title="메인페이지로 이동하기">
                <img src="./img/pulmuone-shop.svg" alt="샵풀무원">
              </a>
            </h1>

            <!-- search -->
            <div class="search">
              <div class="search__inner">
                <div class="search__block">
                  <input type="text" class="search__input" placeholder="#풀무원, 나와 지구를 위한 바른먹거리 마켓">
                </div>
                <button type="button" class="search__button">검색하기</button>
              </div>
            </div>
          </div>
            <!-- //search -->

            <!-- category -->
          <div class="header__category">
            <button type='button' class="header__button">전체 카테고리</button>

            <!-- gnb -->
            <div class="gnb">
              <ul class="gnb__1depth">
                <li class="gnb__1depth-item">
                  <a href="" class="gnb__1depth-link">1depth</a>
                  <div class="gnb__2depth">
                    <ul class="gnb__2depth-list">
                      <li class="gnb__2depth-item">
                        <a href="" class="gnb__2depth-link">1-1depth</a>
                        <div class="gnb__3depth">
                          <ul class="gnb__3depth-list">
                            <li class="gnb__3depth-item">
                              <a href="" class="gnb__3depth-link">1-1-1depth</a>
                            </li>
                          </ul>
                        </div>
                      </li>
                      <li class="gnb__2depth-item">
                        <a href="" class="gnb__2depth-link">1-2depth</a>
                      </li>
                      <li class="gnb__2depth-item">
                        <a href="" class="gnb__2depth-link">1-3depth</a>
                        <div class="gnb__3depth">
                          <ul class="gnb__3depth-list">
                            <li class="gnb__3depth-item">
                              <a href="" class="gnb__3depth-link">1-3-1depth</a>
                            </li>
                            <li class="gnb__3depth-item">
                              <a href="" class="gnb__3depth-link">1-3-1depth</a>
                            </li>
                            <li class="gnb__3depth-item">
                              <a href="" class="gnb__3depth-link">1-3-1depth</a>
                            </li>
                            <li class="gnb__3depth-item">
                              <a href="" class="gnb__3depth-link">1-3-1depth</a>
                            </li>
                            <li class="gnb__3depth-item">
                              <a href="" class="gnb__3depth-link">1-3-1depth</a>
                            </li>
                          </ul>
                        </div>
                      </li>
                    </ul>
                    <div class="gnb__2depth-image">image 1</div>
                  </div>
                </li>
                <li class="gnb__1depth-item">
                  <a href="" class="gnb__1depth-link">1-4depth</a>
                  <div class="gnb__2depth">
                    <ul class="gnb__2depth-list">
                      <li class="gnb__2depth-item">
                        <a href="" class="gnb__2depth-link">1-4-1depth</a>
                        <div class="gnb__3depth">
                          <ul class="gnb__3depth-list">
                            <li class="gnb__3depth-item">
                              <a href="" class="gnb__3depth-link">1-4-1depth</a>
                            </li>
                            <li class="gnb__3depth-item">
                              <a href="" class="gnb__3depth-link">1-4-1depth</a>
                            </li>
                            <li class="gnb__3depth-item">
                              <a href="" class="gnb__3depth-link">1-4-1depth</a>
                            </li>
                            <li class="gnb__3depth-item">
                              <a href="" class="gnb__3depth-link">1-4-1depth</a>
                            </li>
                            <li class="gnb__3depth-item">
                              <a href="" class="gnb__3depth-link">1-4-1depth</a>
                            </li>
                          </ul>
                        </div>
                      </li>
                      <li class="gnb__2depth-item">
                        <a href="" class="gnb__2depth-link">2depth</a>
                        <div class="gnb__3depth">
                          <ul class="gnb__3depth-list">
                            <li class="gnb__3depth-item">
                              <a href="" class="gnb__3depth-link">3depth</a>
                            </li>
                          </ul>
                        </div>
                      </li>
                      <li class="gnb__2depth-item">
                        <a href="" class="gnb__2depth-link">2depth</a>
                        <div class="gnb__3depth">
                          <ul class="gnb__3depth-list">
                            <li class="gnb__3depth-item">
                              <a href="" class="gnb__3depth-link">3depth</a>
                            </li>
                          </ul>
                        </div>
                      </li>
                    </ul>
                    <div class="gnb__2depth-image">image 2</div>
                  </div>
                </li>
                <li class="gnb__1depth-item">
                  <a href="" class="gnb__1depth-link">1depth</a>
                </li>
                <li class="gnb__1depth-item">
                  <a href="" class="gnb__1depth-link">1depth</a>
                </li>
                <li class="gnb__1depth-item">
                  <a href="" class="gnb__1depth-link">1depth</a>
                </li>
                <li class="gnb__1depth-item">
                  <a href="" class="gnb__1depth-link">1depth</a>
                </li>
                <li class="gnb__1depth-item">
                  <a href="" class="gnb__1depth-link">1depth</a>
                </li>
              </ul>
            </div>
            <!-- //gnb -->

            <!-- nav -->
            <div class="nav">
              <ul class="nav__list">
                <li class="nav__item">
                  <a href="" class="nav__link">베스트</a>
                </li>
                <li class="nav__item">
                  <a href="" class="nav__link">일일배송</a>
                </li>
                <li class="nav__item">
                  <a href="" class="nav__link">매장배송</a>
                </li>
                <li class="nav__item">
                  <a href="" class="nav__link">지금세일</a>
                </li>
                <li class="nav__item">
                  <a href="" class="nav__link">신상품</a>
                </li>
                <li class="nav__item">
                  <a href="" class="nav__link">기획전/이벤트</a>
                </li>
              </ul>
            </div>
            <!-- //nav -->
          </div>
            <!-- //category -->
        </div>
        <!-- //Header -->
    
        <!-- Contents -->
        <section class="page__contents">
          <div class="page__left"></div>
          <div class="page__right">
            <h2 class="page__title">취소/반품 조회</h2>

            <div class="date">
              <div class="date__inner">
                <div class="date__contents">
                  <strong class="date__title">조회기간</strong>
                  <div class="date__block">
                    <input type="text" class="date__input" id="startDate" readonly/>
                  </div>
                  <span class="date__dash">~</span>
                  <div class="date__block">
                    <input type="text" class="date__input" id="endDate"  readonly/>
                  </div>

                  <div class="date__range">
                    <button type="button" class="date__button is-active" id="threeMonths">3개월</button>
                    <button type="button" class="date__button" id="sixMonths">6개월</button>
                    <button type="button" class="date__button" id="oneYear">12개월</button>
                  </div>
                </div>
                <button type="button" class="date__submit">조회하기</button>
              </div>
            </div>
          </div>
        </section>
        <!-- //Contents -->
      </div>
		</div>
	</body>
</html>